# ============================================================================
# WordPress Application Template
# ============================================================================
# File: etc/nginx/sites-enabled/wordpress-site.conf.example
#
# Setup:
# 1. Copy this file: cp wordpress-site.conf.example your-wordpress-site.conf
# 2. Replace "your-wordpress-site" with your actual site name
# 3. Replace "your-domain.com" with your actual domain
# 4. Create project folder: mkdir -p ../www/your-wordpress-site
# 5. Install WordPress in ../www/your-wordpress-site
# 6. Add to /etc/hosts: 127.0.0.1 your-domain.com
# 7. Reload nginx: docker-compose restart nginx_main
# ============================================================================

# HTTP Server
server {
    listen 80;
    server_name your-domain.com;

    index index.php index.html;
    error_log  /var/log/nginx/your-domain.com-error.log;
    access_log /var/log/nginx/your-domain.com-access.log;
    root /var/www/html/your-wordpress-site;
    set $php_fpm_document_root $global_php_document_root/your-wordpress-site;

    # WordPress-specific rules
    include conf.d/wordpress.locations;
    include conf.d/php.locations;
}

# HTTPS Server
server {
    listen 443 ssl;
    server_name your-domain.com;
    fastcgi_param HTTPS on;

    # SSL Configuration
    ssl_certificate     /etc/ssl/dev-srv.org.bundle.crt;
    ssl_certificate_key /etc/ssl/dev-srv.org.key;
    ssl_protocols       TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;

    index index.php index.html;
    error_log  /var/log/nginx/your-domain.com-error.log;
    access_log /var/log/nginx/your-domain.com-access.log;
    root /var/www/html/your-wordpress-site;
    set $php_fpm_document_root $global_php_document_root/your-wordpress-site;

    # WordPress-specific rules
    include conf.d/wordpress.locations;
    include conf.d/php.locations;
}
